<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <title>Home</title>
</head>

<body>
    <section class="hero is-primary">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    Compatability Survey
                </h1>
                <h2 class="subtitle">
                    Determine your Compatability with Friends
                </h2>
            </div>
        </div>
    </section>

    <div class="container" id="main-container">
        <div class="column is-size-3 has-text-centered">
            <div class="column">
                <section>
                    <input class="input is-medium" id="userName" type="text" placeholder="Enter Your Name Here">
                    <br>
                    <br>

                    <div class="file has-name is-fullwidth is-medium">
                        <label class="file-label">
                            <input class="file-input" type="file" name="photo" id="photoFile">
                            <span class="file-cta">
                                <span class="file-icon">
                                    <i class="fas fa-upload"></i>
                                </span>
                                <span class="file-label">
                                    Upload a Picture
                                </span>
                            </span>
                            <span class="file-name" id="fileName">
                                e.g. myProfilePhoto.png
                            </span>
                        </label>
                    </div>
                </section>
                <br>
                <section id="register-section">

                    <a class="button is-outlined is-large" id="register" href="/survey">Register</a>

                </section>
            </div>
        </div>

        <hr>
        <div class="column is-size-3 has-text-centered">
            <div class="column">
                <a class="button is-outlined is-large" id="goSurvey" href="/survey">Take the Survey</a>
                <a class="button is-outlined is-large" id="seeFriends" href="/api/friends">See Friends</a>

            </div>
        </div>

    </div>


    <div class="section">
        <div class="content has-text-centered">

        </div>
    </div>


    <script>

        $("#photoFile").change(function () {
            const path = $("#photoFile").val();
            console.log(path);
        $("#fileName").html(path);
        });


        $("#register").on("click", function (event) {
            event.preventDefault();

            let userName = $("#userName").val();

            localStorage.setItem("userName", userName);

            const file = $("#photoFile").val();

            localStorage.setItem("photoFile", file);

            $("#fileName").empty();

            $("#register").hide();

            const confirmDiv = ("<div>");


            $("#register-section").append(confirmDiv.text("Thanks for Registering. Proceed to the Survery"));

        });

    </script>

</body>

</html>