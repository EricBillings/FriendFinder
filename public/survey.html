<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <title>Survey</title>
</head>

<body>
    <section class="hero is-primary">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    Compatability Survey
                </h1>
                <h2 class="subtitle">
                    Determine your Compatability with Friends
                </h2>
            </div>
        </div>
    </section>

    <div class="container" id="main-container">
        <div class="column is-size-3 has-text-centered">
            <div class="column">
                <p>Answer the Questions Below Using a Scale of 1-5</p>
            </div>
        </div>
        <div class="columns is-size-5 has-text-centered">
            <div class="column">
                <p><strong>1</strong> Represents Strongly Disagree <strong>3</strong> Represents Neutral
                    <strong>5</strong> Represents
                    Strongly
                    Agree
                </p>
            </div>
        </div>

        <hr>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 1
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q1">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q1">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q1">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q1">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q1">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 2
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q2">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q2">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q2">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q2">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 3
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q3">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q3">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q3">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q3">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q3">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 4
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q4">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q4">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" vlaue=3 name="Q4">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q4">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 5
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q5">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q5">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q5">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q5">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q5">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 6
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q6">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value= 2 name="Q6">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q6">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q6">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q6">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 7
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q7">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q7">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q7">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q7">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q7">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 8
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q8">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q8">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q8">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q8">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q8">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 9
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q9">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q9">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q9">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q9">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q9">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>
        <div class="columns">
            <div class="column"></div>
            <div class="column has-text-centered">
                Question 10
            </div>

            <div class="column">
                <div class="control">
                    <label class="radio">
                        <input type="radio" value=1 name="Q10">
                        1
                    </label>

                    <label class="radio">
                        <input type="radio" value=2 name="Q10">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" value=3 name="Q10">
                        3
                    </label>
                    <label class="radio">
                        <input type="radio" value=4 name="Q10">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" value=5 name="Q10">
                        5
                    </label>
                </div>
            </div>
            <div class="column"></div>
        </div>

    </div>


    <div class="section">
        <div class="content has-text-centered">
            <div id="error"></div>

            <a class="button is-outlined" id="sendSurvey">Submit Survey</a>
            <a class="button is-outlined" id="sendSurvey" href="/home">Home</a>

        </div>

        </section>

        <script type="text/javascript">

            function getValue(question) {
                const valArray = [];
                let qValue = 0;

                const qArray = ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"];

                for (let j = 0; j < qArray.length; j++) {

                    question = qArray[j];


                    let answer = document.getElementsByName(question);

                    for (let i = 0; i < answer.length; i++) {
                        if (answer[i].checked) {
                            qValue = answer[i].value;
                            break
                        }
                    }
                    if (qValue === 0) {
                        const errDiv = $("<div>");
                        $("#error").append("<hr>");
                        $("#error").append(errDiv.text("Error! Please Answer All Questions Before Submitting"));
                        $("#error").append("<hr>");

                    }
                    console.log(qValue);
                    valArray.push(qValue);
                    console.log(valArray);


                };

            };

            $("#sendSurvey").on("click", function (event) {
                event.preventDefault();
                $("#error").empty();
                getValue();




                newFriend = {
                    "name": "Eric",
                    "photo": "test",
                    "scores": [
                        5, 5, 5, 5, 5, 5, 5, 5, 5, 5
                    ]
                }

                $.post("/api/friends", newFriend, function (data, err) {

                    if (err) {
                        console.log(err);
                    } else {
                        console.log("data sent");
                    }
                })


            });


        </script>



</body>

</html>